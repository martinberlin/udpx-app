<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy"
          content="default-src * gap:; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src *; img-src * data: blob: android-webview-video-poster:; style-src * 'unsafe-inline';media-src * blob:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>udpx Video</title>
    <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/style-chromeapp.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-xs-10">
                        <img id="udpx" src="./assets/udpx-logo.png">
                    </div>
                    <div class="col-xs-2 text-right" style="margin-top:1em">
                        <a href="#" class="button" id="v-open">
                            <svg class="svg-icon" viewBox="0 0 20 20" width="32">
                                <path d="M10,6.536c-2.263,0-4.099,1.836-4.099,4.098S7.737,14.732,10,14.732s4.099-1.836,4.099-4.098S12.263,6.536,10,6.536M10,13.871c-1.784,0-3.235-1.453-3.235-3.237S8.216,7.399,10,7.399c1.784,0,3.235,1.452,3.235,3.235S11.784,13.871,10,13.871M17.118,5.672l-3.237,0.014L12.52,3.697c-0.082-0.105-0.209-0.168-0.343-0.168H7.824c-0.134,0-0.261,0.062-0.343,0.168L6.12,5.686H2.882c-0.951,0-1.726,0.748-1.726,1.699v7.362c0,0.951,0.774,1.725,1.726,1.725h14.236c0.951,0,1.726-0.773,1.726-1.725V7.195C18.844,6.244,18.069,5.672,17.118,5.672 M17.98,14.746c0,0.477-0.386,0.861-0.862,0.861H2.882c-0.477,0-0.863-0.385-0.863-0.861V7.384c0-0.477,0.386-0.85,0.863-0.85l3.451,0.014c0.134,0,0.261-0.062,0.343-0.168l1.361-1.989h3.926l1.361,1.989c0.082,0.105,0.209,0.168,0.343,0.168l3.451-0.014c0.477,0,0.862,0.184,0.862,0.661V14.746z"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4" id="video-c">
                <div class="row">
                    <div class="col-xs-12 video-container">
                        <video id="video" class="video" src="video/01.mp4" controls></video>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-8 text-center">
                        <div id="transmission">Bytes/frame should be < 1470</div>
                    </div>
                    <div class="col-xs-4 text-right">
                        <label class="file-upload btn btn-primary">
                            <input type="file" id="videofile" accept="video/*">Browse
                        </label>
                    </div>
                </div>
            </div>

            <div class="col-md-8" id="settings-container">
                <form id="main-form">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist" id="udpx-tab">
                        <li role="presentation">
                            <a href="#vt" id="vt-tab" role="tab" data-toggle="tab" aria-controls="vt">Video</a>
                        </li>
                        <li role="presentation">
                            <a href="#ct" id="ct-tab" role="tab" data-toggle="tab" aria-controls="ct">Esp</a>
                        </li>
                        <li role="presentation">
                            <a href="#bt" id="ble-tab" role="tab" data-toggle="tab" aria-controls="bt">BT</a>
                        </li>
                        <li role="presentation">
                            <a href="#wt" id="wi-tab" role="tab" data-toggle="tab" aria-controls="wi">WiFi</a>
                        </li>
                        <li role="presentation" class="active">
                            <a href="#dt" id="disco-tab" role="tab" data-toggle="tab" aria-controls="dt"><svg class="svg-icon" viewBox="0 0 20 14" width="20">
                                    <path d="M15.684,16.959L10.879,8.52c0.886-0.343,1.517-1.193,1.517-2.186c0-1.296-1.076-2.323-2.396-2.323S7.604,5.037,7.604,6.333c0,0.993,0.63,1.843,1.517,2.186l-4.818,8.439c-0.189,0.311,0.038,0.708,0.412,0.708h10.558C15.645,17.667,15.871,17.27,15.684,16.959 M8.562,6.333c0-0.778,0.645-1.382,1.438-1.382s1.438,0.604,1.438,1.382c0,0.779-0.645,1.412-1.438,1.412S8.562,7.113,8.562,6.333 M5.55,16.726L10,8.91l4.435,7.815H5.55z M15.285,9.62c1.26-2.046,1.26-4.525,0-6.572c-0.138-0.223-0.064-0.512,0.162-0.646c0.227-0.134,0.521-0.063,0.658,0.16c1.443,2.346,1.443,5.2,0,7.546c-0.236,0.382-0.641,0.17-0.658,0.159C15.221,10.131,15.147,9.842,15.285,9.62 M13.395,8.008c0.475-1.063,0.475-2.286,0-3.349c-0.106-0.238,0.004-0.515,0.246-0.62c0.242-0.104,0.525,0.004,0.632,0.242c0.583,1.305,0.583,2.801,0,4.106c-0.214,0.479-0.747,0.192-0.632,0.242C13.398,8.523,13.288,8.247,13.395,8.008 M3.895,10.107c-1.444-2.346-1.444-5.2,0-7.546c0.137-0.223,0.431-0.294,0.658-0.16c0.226,0.135,0.299,0.424,0.162,0.646c-1.26,2.047-1.26,4.525,0,6.572c0.137,0.223,0.064,0.512-0.162,0.646C4.535,10.277,4.131,10.489,3.895,10.107 M5.728,8.387c-0.583-1.305-0.583-2.801,0-4.106c0.106-0.238,0.39-0.346,0.631-0.242c0.242,0.105,0.353,0.382,0.247,0.62c-0.475,1.063-0.475,2.286,0,3.349c0.106,0.238-0.004,0.515-0.247,0.62c-0.062,0.027-0.128,0.04-0.192,0.04C5.982,8.668,5.807,8.563,5.728,8.387"></path>
                                </svg></a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane" id="vt" aria-labelledby="vt-tab">

                            <div class="form-group row">
                                <div class="col-xs-4">
                                    <label for="video_select">Demos:</label>
                                    <select id="video_select" class="form-control form-control-sm">
                                        <option value="">Select test video</option>
                                        <option value="01.mp4">Screen-test</option>
                                        <option value="02.mp4">Fading colors RGB</option>
                                        <option value="04.mp4">5,4,3 TV sample</option>
                                    </select>
                                </div>
                                <div class="col-xs-8">
                                    <label for="protocol" class="col-form-label">Protocol</label>
                                    <select id="protocol" class="form-control form-control-sm">
                                        <option value="pixels" selected>Pixels</option>
                                        <option value="pix565">PIX565 Zlib</option>
                                        <option value="pixbro">Pixels Brotli</option>
                                        <option value="rgb888">RGB888 Spectre</option>
                                        <option value="rgb888">RGB565 OctoWifi</option>
                                        <option value="bro888">BRO888</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-4">
                                    <label for="v_width">Pix width</label>
                                    <input id="v_width" name="v_width"  type="number" class="form-control form-control-sm" maxlength="3" value="44"
                                           required>
                                </div>
                                <div class="col-xs-4">
                                    <label for="v_height">Height</label>
                                    <input id="v_height" name="v_height" type="number" class="form-control form-control-sm" maxlength="3" value="3"
                                           required>
                                </div>
                                <div class="col-xs-4">
                                    <label for="v_units">Units &#9636;</label>
                                    <input id="v_units" name="v_units" type="number" class="form-control form-control-sm" maxlength="1" value="1"
                                           required>
                                </div>
                            </div>

                            <div class="form-group row">

                                <div class="col-xs-4">
                                    <label for="fps">FPS</label>
                                    <input id="fps" name="fps" type="number" class="form-control form-control-sm" maxlength="4" value="50" required>
                                </div>

                                <div class="col-xs-4">
                                    <label for="bro_quality">Br quality</label>
                                    <input id="bro_quality" name="bro_quality" type="number" class="form-control form-control-sm"
                                           maxlength="1" min="1" max="11" value="3" required>
                                </div>

                                <div class="col-xs-4" id="canvas">
                                    <canvas id="c"></canvas>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-4">
                                    <label for="v_contrast">Contrast</label>
                                    <input id="v_contrast" name="v_contrast" type="text" class="form-control form-control-sm"
                                           maxlength="3" size="3" value="1.4" required>
                                </div>
                                <div class="col-xs-4">
                                    <label for="v_brightness">Brightness</label>
                                    <select id="v_brightness" class="form-control form-control-sm">
                                        <option value="2">10 %</option>
                                        <option value="3">15 %</option>
                                        <option value="4" selected>20 %</option>
                                        <option value="5">25 %</option>
                                        <option value="6">30 %</option>
                                        <option value="7">35 %</option>
                                        <option value="8">40 %</option>
                                        <option value="9">45 %</option>
                                        <option value="10">50 %</option>
                                        <option value="12">60 %</option>
                                        <option value="14">70 %</option>
                                        <option value="16">80 %</option>
                                        <option value="18">90 %</option>
                                        <option value="20">100 %</option>
                                    </select>
                                </div>
                                <div class="col-xs-4">
                                    <label for="v_brightred">Reduction</label>
                                    <select id="v_brightred" class="form-control form-control-sm">
                                        <option value="0.1">10 %</option>
                                        <option value="0.2">20 %</option>
                                        <option value="0.3">30 %</option>
                                        <option value="0.4">40 %</option>
                                        <option value="0.5" selected>50 %</option>
                                        <option value="0.6">60 %</option>
                                        <option value="0.7">70 %</option>
                                        <option value="0.8">80 %</option>
                                        <option value="0.9">90 %</option>
                                        <option value="1">100 %</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="ct" aria-labelledby="ct-tab">
                            <div class="form-group row">
                                <div class="col-xs-8">
                                    <label for="esp32_ip" class="col-form-label"><b>Espressif IP</b></label>
                                    <input id="esp32_ip" name="esp32_ip" type="text" class="col-xs-10 form-control form-control-sm" maxlength="15"
                                           value="192.168.0.">
                                </div>
                                <div class="col-xs-4">
                                    <label for="udp_port" class="col-form-label">Port</label>
                                    <input id="udp_port" name="udp_port" type="number" class="form-control form-control-sm" maxlength="5" size="5"
                                           value="1234">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-8">
                                    <label for="udp_text" class="col-form-label">Text message</label>
                                    <input id="udp_text" name="udp_text" type="text" class="form-control" maxlength="9"
                                           value="">
                                </div>
                                <div class="col-xs-4" style="margin-top:1.8em">
                                    <button class="form-control btn btn-default active" id="send_udp">Send UDP</button>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">Advanced output settings:</div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">
                                     <input id="m_invert_unit" name="m_invert_unit" type="checkbox" class="form-check-input">
                                     <label for="m_invert_unit" class="form-check-label">Invert &lt;-- direction per unit</label>
                                 </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">
                                    <input id="o_chunk" name="o_chunk" type="checkbox" class="form-check-input">
                                    <label for="o_chunk" id="o_chunk_label" class="form-check-label">Send chunk size headers</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">
                                    <input id="m_rotate_lines" name="m_rotate_lines" type="checkbox" class="form-check-input">
                                    <label for="m_rotate_lines" class="form-check-label">Reverse matrix pair lines in Android</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">
                                    <small>
                                        <a href="http://udpx.fasani.de">ESP32 Firmware</a> <div id="version"></div>
                                    </small>
                                </div>
                            </div>
                        </div>


                        <div role="tabpanel" class="tab-pane" id="bt" aria-labelledby="bt-tab">

                            <div class="form-group row">
                                <div class="col-xs-12" style="margin-top:0.8em" id="ble_msg">
                                Please turn on Bluetooth
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3">Paired:</div>
                                <div class="col-xs-9" id="device_list_paired">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3">Unpaired:</div>
                                <div class="col-xs-9" id="device_list_unpaired">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3" id="ble_msg_foot">
                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="wt" aria-labelledby="wt-tab">
                            <div class="form-group row" style="height: 26px">
                                <div class="col-md-2 col-xs-2"></div>
                                <div class="col-md-2 col-xs-2 text-center invisible" id="wifi_pre">
                                    <img src="assets/preload.gif">
                                </div>
                                <div class="col-md-8 col-xs-8" id="wifi_msg"></div>
                            </div>

                            <div class="form-group row">
                                <div class="col-xs-12">
                                    <label for="wifi_ssid">WiFi SSID</label>
                                    <input id="wifi_ssid" name="wifi_ssid" type="text" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12">
                                    <label for="wifi_pass">Password</label>
                                    <input id="wifi_pass" name="wifi_pass" type="text" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12 form-check">
                                    <input id="wifi_store" name="wifi_store" type="checkbox" class="form-check-input">
                                    <label for="wifi_store" class="form-check-label">Store password in local storage</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-warning" id="ble_reset">Reset ESP32</button>
                                </div>
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-primary" id="ble_set_config">Send config</button>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-danger" id="ble_erase">Erase config</button>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-xs-12" id="wifi_foot_msg">
                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" class="tab-pane active in" id="dt" aria-labelledby="dt-tab">
                            <div class="form-group row">
                                <div class="col-xs-12" style="margin-top:0.8em;height:26px" id="disco_msg">
                                    <img src="assets/preload.gif"> WiFi scanning .local devices
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12" id="discovery_list">
                                </div>
                            </div>
                        </div>

                    </div>
                
            </form>
            </div>

        </div>
        </div>
    
        <script src="cordova.js"></script>
        <script src="js/bootstrap-native.min.js"></script>
        <script src="js/brotli-wasm.js"></script>
        <script src="js/brotli-bootstrap.js"></script>
        <script src="js/zlib-bootstrap.js"></script>
        <script src="js/app.js"></script>
</body>

</html>
